import{l as V,s as ye,n as I,p as C,$ as ce,a0 as g,y as l,a1 as c,u as i,F as v,a2 as p,a3 as f,a4 as M,a5 as _,a6 as ve,a7 as be,U as we,r as U,w as j,x as K,a8 as W,a9 as _e,aa as b,_ as P,X as Y,ab as Se,ac as ke}from"./@vue-CGkg5-SG.js";import{d as q,c as xe}from"./pinia-ZfB2N-CY.js";import{V as De,a as N,b as Ve,c as Ce,d as D,e as Pe,f as $,g as $e,h as ee,i as Ie,j as k,k as Ae,l as ue,m as S,n as Te,o as Z,p as X,q as Ne,r as A,s as de,t as pe,u as Oe,v as Fe,w as Me,x as Le}from"./vuetify-B3ddf55k.js";import{c as Re,a as Ue}from"./vue-router-DuixGfQv.js";import{c as Be}from"./vue-i18n-44OpQ7a9.js";import{u as me}from"./@vueuse-3Rnw8dmV.js";import{p as te,e as re}from"./date-fns-itnQ-s2-.js";import{C as ae,r as Ee}from"./chart.js-DXqm6AiU.js";import{m as ze,a as je,b as We,c as Ye,d as qe,e as Ge,f as He,g as Je,h as Ke,i as Ze,j as Xe,k as Qe,l as et,n as tt,o as rt,p as at,q as ot,r as nt,s as it,t as st,u as lt,v as ct,w as ut}from"./@mdi-BqLxcpo1.js";import"./vue-demi-Dq6ymT-8.js";import"./@intlify-DCihH9S3.js";import"./@kurkle-BZxJdD1U.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();String.prototype.isNumeric=function(){const e=/^[0-9]+$/;return!!this.match(e)};String.prototype.isBoolean=function(){return["true","false"].includes(this)};String.prototype.toCapitalizeCase=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")};String.prototype.toLocaleCapitalizeCase=function(e){return this.split(" ").map(r=>r.charAt(0).toLocaleUpperCase(e)+r.slice(1).toLocaleLowerCase(e)).join(" ")};String.prototype.trimWhitespace=function(e){return this.replace(/(\n|\r)+/g,e?"":" ").replace(/\s+/g,e?"":" ").trim()};Date.prototype.getWeekNumber=function(){const e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)};Date.prototype.getFirstDayOfMonth=function(e){return new Date(this.getFullYear(),e||this.getMonth(),1).getDay()};Date.prototype.getLastDayOfMonth=function(e){return new Date(this.getFullYear(),(e||this.getMonth())+1,0).getDay()};Date.prototype.getLastDateOfMonth=function(e){return new Date(this.getFullYear(),(e||this.getMonth())+1,0).getDate()};Date.prototype.setDateToLastDayOfWeek=function(){this.setDate(this.getDate()+(7-this.getDay()%7))};Array.prototype.isRecursive=function(){for(const e of this)if(Array.isArray(e))return!0;return!1};Array.prototype.removeDuplicates=function(){return this.filter((e,r,a)=>a.indexOf(e)===r)};const Q="Web Workers are not supported in this browser.",O=400,fe=new Date,dt=2024,pt=V(()=>{const t=fe.getFullYear(),e=dt,r=[];for(let a=e;a<=t;a++)r.push(a);return r}),mt=V(()=>{const t=[];for(let e=0;e<12;e++)t.push({title:new Date(fe.getFullYear(),e,1).toLocaleDateString("en",{month:"long"}),value:e});return t}),y=q("app-store",{state:()=>({active:{parent:!1,child:!1},loading:!1,alerts:[],dialog:{}}),actions:{setAlerts(t,e,r){this.alerts.push({id:new Date().getTime(),show:!0,type:t,title:e,message:r}),window.setTimeout(()=>{this.alerts.length>0&&this.alerts.shift()},O*6*this.alerts.length)},setDialog(t,e,r){this.dialog={show:!0,item:t,component:ye(e),props:{action:r}}},resetDialog(){this.dialog.show=!1,window.setTimeout(()=>{I(()=>{this.dialog={}})},O/2)}},getters:{}}),ft=C({__name:"App",setup(t){const e=y();return(r,a)=>{const n=ce("RouterView");return p(),g(v,null,[l(n),l(De,{class:"d-flex align-center justify-center","model-value":i(e).loading,persistent:"","z-index":1e5},{default:c(()=>[l(Ce,{indeterminate:"",size:64,width:8,color:"secondary"})]),_:1},8,["model-value"]),l(N,null,{default:c(()=>[i(e).alerts.length>0?(p(),f(i(D),{key:0,class:"pa-2 overflow-auto",color:"transparent",position:"fixed",width:"410px","min-height":"fit-content","max-height":"100%",location:"top end"},{default:c(()=>[l(N,{group:""},{default:c(()=>[(p(!0),g(v,null,M(i(e).alerts,o=>(p(),g(v,{key:o.id},[l(i(D),{variant:"flat",color:"surface"},{default:c(()=>[l(Pe,{class:"text-pre-wrap",type:o.type,title:o.title,text:o.message,variant:"tonal",border:"start"},null,8,["type","title","text"])]),_:2},1024),l($,{class:"mt-2",color:"transparent"})],64))),128))]),_:1})]),_:1})):_("",!0)]),_:1}),l(Ve,{"model-value":i(e).dialog.show,persistent:""},{default:c(()=>[l(i(D),{class:"ma-auto pa-8 d-flex flex-column",width:"512px",color:"primary",elevation:"4"},{default:c(()=>[(p(),f(we(i(e).dialog.component),ve(be(i(e).dialog.props)),null,16))]),_:1})]),_:1},8,["model-value"])],64)}}}),ht={},F=Be({locale:"en",fallbackLocale:"en",legacy:!1,messages:{en:ht},numberFormats:{id:{currency:{style:"currency",currency:"IDR",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0},decimal:{style:"decimal"}}}}),T=q("product-store",{state:()=>({products:me("products",[]),formattedProducts:null,form:{product:{value:"",error:""},purchase_price:{value:"",digit:"",error:""},selling_price:{value:"",digit:"",error:""}},search:"",worker:null}),actions:{async create(){const t=y();if(t.loading=!0,!await this.checkValidation()){t.loading=!1;return}const e=this.form.product.value,r=Number(this.form.purchase_price.digit),a=Number(this.form.selling_price.digit);try{this.products&&this.products.push({id:`${Date.now()}-${he(1,1e9)}`,product:e,purchase_price:r,selling_price:a,purchase_amount:0}),await this.afterAction(),t.setAlerts("success","Create Success","Product Successfully Created")}catch(n){console.error(n),t.setAlerts("error","Create Failed","Product Failed To Be Created")}},async read(){try{return this.products}catch(t){console.error(t)}return null},async update(){const t=y();if(t.loading=!0,!await this.checkValidation()){t.loading=!1;return}const e=t.dialog.item,r=this.form.product.value,a=Number(this.form.purchase_price.digit),n=Number(this.form.selling_price.digit);try{if(!this.products)throw new Error("Product Invalid");const o=this.products.findIndex(s=>s.id===e.id);o!==-1&&(this.products[o].product=r,this.products[o].purchase_price=a,this.products[o].selling_price=n),await this.afterAction(),t.setAlerts("success","Update Success","Product Successfully Updated")}catch(o){console.error(o),t.setAlerts("error","Update Failed","Product Failed To Be Updated")}},async delete(){const t=y();t.loading=!0;const e=t.dialog.item;try{const r=this.products.findIndex(a=>a.id===e.id);r!==-1&&this.products.splice(r,1),await this.afterAction(),t.setAlerts("success","Delete Success","Product Successfully Deleted")}catch(r){console.error(r),t.setAlerts("success","Delete Failed","Product Failed To Be Deleted")}},async synchronize(){const t=L(),[e,r]=await Promise.all([this.read(),t.read()]);if(e&&r){const a=e.reduce((n,o)=>(n[o.id]=0,n),{});r.forEach(n=>{const o=n.product_id;a[o]!==void 0&&(a[o]+=1)});for(const[n,o]of Object.entries(a)){const s=this.products.findIndex(d=>d.id===n);s!==-1&&(this.products[s].purchase_amount=o)}}},async productValidation(){const t=/ {2,}/g,e=/^ {1,}/gm,r=/[^a-zA-Z0-9() ]/g;let a=this.form.product.value,n="";a=a.replace(t," ").replace(e,"").replace(r,""),a?a.length>50&&(n="Product Is Too Long!",a.length>60&&(a=a.substring(0,60))):n="Product Cannot Be Empty!",await I(()=>{this.form.product.value=a,this.form.product.error=n})},async purchasePriceValidation(){const t=/\D+/g,e=/^0\d+/g,r=/[.]+|\D+/g;let a=this.form.purchase_price.value,n="",o="";a=a.replace(t,"").replace(e,"0"),a?(o=a.replace(r,""),o.length>9&&(o=o.substring(0,9)),a=F.global.n(Number(o),"decimal","id")):n="Purchase Price Cannot Be Empty!",await I(()=>{this.form.purchase_price.value=a,this.form.purchase_price.error=n,this.form.purchase_price.digit=o})},async sellingPriceValidation(){const t=/\D+/g,e=/^0\d+/g,r=/[.]+|\D+/g;let a=this.form.selling_price.value,n="",o="";a=a.replace(t,"").replace(e,"0"),a?(o=a.replace(r,""),o.length>9&&(o=o.substring(0,9)),a=F.global.n(Number(o),"decimal","id")):n="Selling Price Cannot Be Empty!",await I(()=>{this.form.selling_price.value=a,this.form.selling_price.error=n,this.form.selling_price.digit=o})},async checkValidation(){if(await Promise.all([this.productValidation(),this.purchasePriceValidation(),this.sellingPriceValidation()]),!this.isValidationValid){const t=y(),e=this.form.product.error,r=this.form.purchase_price.error,a=this.form.selling_price.error;return t.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}${r?`${r}
`:""}${a?`${a}`:""}`),!1}return!0},async afterAction(){const t=y();this.resetForm(),t.resetDialog(),await this.read()},resetForm(){this.form={product:{value:"",error:""},purchase_price:{value:"",digit:"",error:""},selling_price:{value:"",digit:"",error:""}}},customKeySort(){return{number:(t,e)=>t-e,product:(t,e)=>t.toLowerCase().localeCompare(e.toLowerCase()),purchase_price:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a},selling_price:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a},purchase_amount:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a}}}},getters:{isValidationValid(t){const e=t.form.product.error,r=t.form.purchase_price.error,a=t.form.selling_price.error;return e===""&&r===""&&a===""},getTableHeaders(){return[{title:"Action",value:"action",nowrap:!0,align:"start",sortable:!1},{title:"Number",value:"number",nowrap:!0,align:"center",sortable:!0},{title:"Product",value:"product",nowrap:!0,align:"start",sortable:!0},{title:"Purchase Price",value:"purchase_price",nowrap:!0,align:"start",sortable:!0},{title:"Selling Price",value:"selling_price",nowrap:!0,align:"start",sortable:!0},{title:"Purchase Amount",value:"purchase_amount",nowrap:!0,align:"start",sortable:!0}]}}}),L=q("income-store",{state:()=>({incomes:me("incomes",[]),formattedIncomes:null,form:{product:{value:null,error:""}},search:"",worker:null}),actions:{async create(){const t=y();if(t.loading=!0,!await this.checkValidation()){t.loading=!1;return}const e=this.form.product.value;try{this.incomes&&this.incomes.push({id:`${Date.now()}-${he(1,1e9)}`,product_id:e.id,date:new Date,purchase_price:e.purchase_price,selling_price:e.selling_price,income:e.selling_price-e.purchase_price}),await this.afterAction(),t.setAlerts("success","Create Success","Income Successfully Created")}catch(r){console.error(r),t.setAlerts("error","Create Failed","Income Failed To Be Created")}},async read(){try{return this.incomes}catch(t){console.error(t)}return null},async update(){const t=y();if(t.loading=!0,!await this.checkValidation()){t.loading=!1;return}const e=t.dialog.item,r=this.form.product.value;try{if(!this.incomes)throw new Error("Income Invalid");const a=this.incomes.findIndex(n=>n.id===e.id);a!==-1&&(this.incomes[a].product_id=r.id,this.incomes[a].purchase_price=r.purchase_price,this.incomes[a].selling_price=r.selling_price,this.incomes[a].income=r.selling_price-r.purchase_price),await this.afterAction(),t.setAlerts("success","Update Success","Income Successfully Updated")}catch(a){console.error(a),t.setAlerts("error","Update Failed","Income Failed To Be Updated")}},async delete(){const t=y();t.loading=!0;const e=t.dialog.item;try{const r=this.incomes.findIndex(a=>a.id===e.id);r!==-1&&this.incomes.splice(r,1),await this.afterAction(),t.setAlerts("success","Delete Success","Income Successfully Deleted")}catch(r){console.error(r),t.setAlerts("success","Delete Failed","Income Failed To Be Deleted")}},async productValidation(){const t=T(),e=this.form.product.value;let r="";e?(!t.products||!t.products.some(a=>a.id===e.id))&&(r="Product Invalid!"):r="Product Cannot Be Empty!",I(()=>{this.form.product.value=e,this.form.product.error=r})},async checkValidation(){if(await Promise.all([this.productValidation()]),!this.isValidationValid){const t=y(),e=this.form.product.error;return t.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}`),!1}return!0},async afterAction(){const t=y();this.resetForm(),t.resetDialog(),await T().synchronize()},resetForm(){this.form={product:{value:null,error:""}}},customKeySort(){return{number:(t,e)=>t-e,product:(t,e)=>t.toLowerCase().localeCompare(e.toLowerCase()),date:(t,e)=>{const r="EEEE, MMMM dd, yyyy 'at' h:mm:ss a",a=te(t,r,new Date,{locale:re}),n=te(e,r,new Date,{locale:re});return a.getTime()-n.getTime()},purchase_price:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a},selling_price:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a},income:(t,e)=>{const r=Number(t.replace(/[^\d|-]+/g,"")),a=Number(e.replace(/[^\d|-]+/g,""));return r-a}}}},getters:{isValidationValid(t){return t.form.product.error===""},getTableHeaders(){return[{title:"Action",value:"action",nowrap:!0,align:"start",sortable:!1},{title:"Number",value:"number",nowrap:!0,align:"center",sortable:!0},{title:"Product",value:"product",nowrap:!0,align:"start",sortable:!0},{title:"Date",value:"date",nowrap:!0,align:"start",sortable:!0},{title:"Purchase Price",value:"purchase_price",nowrap:!0,align:"start",sortable:!0},{title:"Selling Price",value:"selling_price",nowrap:!0,align:"start",sortable:!0},{title:"Income",value:"income",nowrap:!0,align:"start",sortable:!0}]}}});function oe(t){return new Promise(e=>window.setTimeout(e,t))}function he(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ne(t,e){const r=y(),a=JSON.stringify(e),n=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(n),s=document.createElement("a"),d=`${t}-${new Date().toLocaleDateString("en",{dateStyle:"full"})}.json`;s.href=o,s.download=d,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),r.setAlerts("success","Export Successful",`Your data has been successfully exported as a JSON file. The file named "${d}" has been prepared for download.`)}function gt(){const t=document.createElement("input");t.type="file",t.accept=".json",t.style.display="none",t.multiple=!0,document.body.appendChild(t),t.addEventListener("change",async e=>{if(e.target){const r=y(),a=e.target,n=a.files;if(n)for(const o of n){const s=/^Products-.*\.json$/,d=/^Incomes-.*\.json$/;if(s.test(o.name)||d.test(o.name))try{const u=await o.text(),m=JSON.parse(u);if(s.test(o.name)){const w=T();w.products=m,r.setAlerts("success","Import Successful","The products data has been successfully imported.")}else if(d.test(o.name)){const w=L();w.incomes=m,r.setAlerts("success","Import Successful","The incomes data has been successfully imported.")}}catch{r.setAlerts("error","Import Failed","There was an error processing the file.")}else r.setAlerts("error","Import Failed","The selected file does not match the required format.")}document.body.removeChild(a)}}),t.click()}const yt="/Product-Reports/assets/logo-1q8YlDgL.png",vt=C({__name:"MainApp",setup(t){const e=y(),r=T(),a=L(),n=V(()=>[{icon:{active:"$view-dashboard-variant",passive:"$view-dashboard"},title:"Dashboard",path:"/dashboard",click:()=>{}},{icon:{active:"$cash-plus",passive:"$cash"},title:"Incomes",path:"/incomes",click:()=>{}},{icon:{active:"$file-document",passive:"$file-document-outline"},title:"Products",path:"/products",click:()=>{}},{icon:{active:"$export",passive:"$export"},title:"Export Data",path:void 0,click:()=>{r.products&&a.incomes&&(ne("Products",r.products),ne("Incomes",a.incomes))}},{icon:{active:"$import",passive:"$import"},title:"Import Data",path:void 0,click:()=>gt()}]);return(o,s)=>{const d=ce("RouterView");return p(),f(N,null,{default:c(()=>[i(e).active.parent?(p(),f($e,{key:0},{default:c(()=>[l(Ie,{color:"primary",permanent:""},{prepend:c(()=>[l(ee,{title:"Product Reports",subtitle:"Created By YORY3R","prepend-avatar":i(yt),lines:"two"},null,8,["prepend-avatar"])]),default:c(()=>[l($),(p(!0),g(v,null,M(n.value,(u,m)=>(p(),f(ee,{key:m,title:u.title,"prepend-icon":o.$route.path===u.path?u.icon.active:u.icon.passive,to:u.path,active:o.$route.path===u.path,link:"",slim:"",onClick:u.click},null,8,["title","prepend-icon","to","active","onClick"]))),128))]),_:1}),l(Ae,{"max-height":"100vh",height:"100%"},{default:c(()=>[l(k,{class:"d-scroll overflow-auto pa-2","min-height":"100%","max-height":"100%",width:"100%"},{default:c(()=>[l(d)]),_:1})]),_:1})]),_:1})):_("",!0)]),_:1})}}}),bt=q("dashboard-store",{state:()=>({data:[],options:[],inputYear:[],inputMonth:[],inputProduct:[],workers:[]}),actions:{}}),E=C({__name:"CustomSelect",props:{modelValue:{type:[String,Number,Object,Array,Boolean,null,void 0],required:!0},items:{type:Array,required:!0},itemTitle:{type:String,default:void 0},itemValue:{type:String,default:void 0},itemProps:{type:Function,default:void 0},label:{type:String,default:void 0},prependInnerIcon:{type:Object,default:void 0},prefix:{type:String,default:void 0},returnObject:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},emits:["update:model-value"],setup(t,{emit:e}){const r=t,a=e,n=V({get:()=>r.modelValue,set:o=>{a("update:model-value",o)}});return(o,s)=>(p(),f(Te,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=d=>n.value=d),items:t.items,"item-title":t.itemTitle,"item-value":t.itemValue,"item-props":t.itemProps,label:t.label,prefix:t.prefix,"return-object":t.returnObject,clearable:t.clearable},{"prepend-inner":c(({isFocused:d})=>[t.prependInnerIcon?(p(),f(ue,{key:0,"leave-absolute":""},{default:c(()=>[d.value?(p(),f(S,{key:0,icon:t.prependInnerIcon.active},null,8,["icon"])):(p(),f(S,{key:1,icon:t.prependInnerIcon.passive},null,8,["icon"]))]),_:2},1024)):_("",!0)]),_:1},8,["modelValue","items","item-title","item-value","item-props","label","prefix","return-object","clearable"]))}}),wt=C({__name:"CustomChart",props:{type:{type:String,default:"line"},data:{type:Object,required:!0},options:{type:Object,required:!0},height:{type:[String,Number],default:void 0}},setup(t){ae.register(...Ee);const e=t,r=U(null),a=U(!1),n=async()=>{await I(),r.value&&e.data&&e.options&&new ae(r.value,{type:e.type,data:e.data,options:e.options})};return j(()=>[e.data,e.options],()=>{a.value=!1,I(()=>{a.value=!0,n()})},{immediate:!0}),(o,s)=>(p(),f(D,{color:"transparent",rounded:"0",width:"100%",height:t.height},{default:c(()=>[a.value?(p(),g("canvas",{key:0,ref_key:"canvasElement",ref:r},null,512)):_("",!0)]),_:1},8,["height"]))}}),_t=C({__name:"DashboardView",setup(t){const e=y(),r=bt(),a=L(),n=T(),o=U(null),s=V(()=>[{title:"Income",model:"income",formatType:"currency"},{title:"Purchase Amount",model:"purchase_amount",formatType:"decimal"}]),d=u=>{r.workers[u]&&(r.workers[u].terminate(),r.workers[u]=null),window.Worker?(r.data[u]=null,r.options[u]=null,r.workers[u]=new Worker(new URL("/Product-Reports/assets/dashboard-worker-BBUPFZsW.js",import.meta.url),{type:"module"}),r.workers[u].onmessage=m=>{r.data[u]=JSON.parse(m.data.data),r.options[u]=JSON.parse(m.data.options),I(()=>{e.loading=!1})},r.workers[u].postMessage({model:s.value[u].model,incomes:JSON.stringify(a.incomes),inputYear:r.inputYear[u],inputMonth:r.inputMonth[u],inputProduct:JSON.stringify(r.inputProduct[u]),title:s.value[u].title,formatType:s.value[u].formatType})):console.error(Q)};return j(()=>[n.products,a.incomes,r.inputYear,r.inputMonth,r.inputProduct],u=>{if(u[0]&&u[1])for(let m=0;m<s.value.length;m++)(o.value===null||m===o.value)&&d(m)},{immediate:!0,deep:!0}),K(()=>{s.value.forEach((u,m)=>{r.data[m]=null,r.options[m]=null,r.inputYear[m]===void 0&&(r.inputYear[m]=new Date().getFullYear()),r.inputMonth[m]===void 0&&(r.inputMonth[m]=new Date().getMonth()),r.inputProduct[m]===void 0&&(r.inputProduct[m]=null)})}),(u,m)=>(p(),f(N,{style:W({transitionDuration:`${i(O)}ms !important`}),"leave-absolute":""},{default:c(()=>[i(e).active.child?(p(),f(k,{key:0,class:"d-block ma-auto",width:"100%","full-height":""},{default:c(()=>[(p(!0),g(v,null,M(s.value,(w,h)=>(p(),g(v,{key:h},[h>0?(p(),f($,{key:0,class:"my-1",color:"transparent"})):_("",!0),l(D,{class:"pa-2",variant:"elevated",color:"surface","min-width":"800px",width:"100%"},{default:c(()=>[l(Z,{class:"d-flex"},{default:c(()=>[l(E,{modelValue:i(r).inputYear[h],"onUpdate:modelValue":[x=>i(r).inputYear[h]=x,()=>{i(r).inputMonth[h]=null,o.value=h}],items:i(pt),label:"Years","prepend-inner-icon":{active:"$calendar",passive:"$calendar-outline"},clearable:""},null,8,["modelValue","onUpdate:modelValue","items"]),l(N,{group:"","hide-on-leave":""},{default:c(()=>[i(r).inputYear[h]?(p(),g(v,{key:0},[l($,{class:"mx-1",color:"transparent",vertical:""}),l(E,{modelValue:i(r).inputMonth[h],"onUpdate:modelValue":[x=>i(r).inputMonth[h]=x,x=>o.value=h],items:i(mt),"item-title":"title","item-value":"value",label:"Months",clearable:"","prepend-inner-icon":{active:"$calendar-month",passive:"$calendar-month-outline"}},null,8,["modelValue","onUpdate:modelValue","items"])],64)):_("",!0)]),_:2},1024),l($,{class:"mx-1",color:"transparent",vertical:""}),i(n).products?(p(),f(E,{key:0,modelValue:i(r).inputProduct[h],"onUpdate:modelValue":[x=>i(r).inputProduct[h]=x,x=>o.value=h],items:i(n).products,"item-title":"product","item-value":"id","item-props":x=>({title:x.product,subtitle:`Income: ${i(F).global.n(x.purchase_price,"currency","id")}, Selling: ${i(F).global.n(x.selling_price,"currency","id")}`}),label:"Product","prepend-inner-icon":{active:"$file-document",passive:"$file-document-outline"},"return-object":"",clearable:""},null,8,["modelValue","onUpdate:modelValue","items","item-props"])):_("",!0)]),_:2},1024),l($,{class:"my-2",color:"transparent"}),i(r).data[h]&&i(r).options[h]?(p(),f(wt,{key:0,data:i(r).data[h],options:i(r).options[h],height:"400px"},null,8,["data","options"])):(p(),f(X,{key:1,type:["text","ossein"],height:"400px"}))]),_:2},1024)],64))),128))]),_:1})):_("",!0)]),_:1},8,["style"]))}}),R=C({__name:"CustomTextField",props:{modelValue:{type:String,required:!0},label:{type:String,default:void 0},prependInnerIcon:{type:Object,default:void 0},prefix:{type:String,default:void 0},clearable:{type:Boolean,default:!1}},emits:["update:model-value"],setup(t,{emit:e}){const r=t,a=e,n=V({get:()=>r.modelValue,set:o=>{a("update:model-value",o)}});return(o,s)=>(p(),f(Ne,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=d=>n.value=d),label:t.label,prefix:t.prefix,clearable:t.clearable,"onClick:clear":s[1]||(s[1]=()=>n.value=""),"onUpdate:focused":s[2]||(s[2]=d=>{d||(n.value=n.value.trim())})},{"prepend-inner":c(({isFocused:d})=>[t.prependInnerIcon?(p(),f(ue,{key:0,"leave-absolute":""},{default:c(()=>[d.value?(p(),f(S,{key:0,icon:t.prependInnerIcon.active},null,8,["icon"])):(p(),f(S,{key:1,icon:t.prependInnerIcon.passive},null,8,["icon"]))]),_:2},1024)):_("",!0)]),_:1},8,["modelValue","label","prefix","clearable"]))}}),St=C({__name:"CustomGridLayout",props:{gridTemplateColumns:{type:String,default:void 0},gap:{type:String,default:void 0},rowGap:{type:String,default:void 0},columnGap:{type:String,default:void 0},width:{type:String,default:void 0},minWidth:{type:String,default:void 0},maxWidth:{type:String,default:void 0},height:{type:String,default:void 0},minHeight:{type:String,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const e=t,r=V(()=>({gridTemplateColumns:e.gridTemplateColumns,rowGap:e.rowGap?e.rowGap:e.gap,columnGap:e.columnGap?e.columnGap:e.gap,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}));return(a,n)=>(p(),g("div",{style:W(r.value)},[_e(a.$slots,"default",{},void 0)],4))}}),kt=(t,e)=>{const r=t.__vccOpts||t;for(const[a,n]of e)r[a]=n;return r},ge=kt(St,[["__scopeId","data-v-f79173cc"]]),xt={class:"text-h6 font-weight-bold text-center mx-auto"},Dt=b("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),Vt={class:"font-weight-medium"},Ct=b("span",null,"  :  ",-1),Pt=b("div",{class:"my-4"},null,-1),G=C({__name:"IncomeDialog",props:{action:{type:String,required:!0}},setup(t){const e=t,r=y(),a=T(),n=L(),o=V(()=>r.dialog.item),s=V(()=>[{title:"Product",value:o.value.product},{title:"Date",value:o.value.date},{title:"Purchase Price",value:o.value.purchase_price},{title:"Selling Price",value:o.value.selling_price},{title:"Income",value:o.value.income}]);return K(()=>{var d;if(e.action==="update"){const u=(d=a.products)==null?void 0:d.find(m=>m.id===o.value.product_id);n.form.product.value=u||null,n.productValidation()}}),(d,u)=>(p(),g(v,null,[l(k,{class:"position-relative mb-8"},{default:c(()=>[l(A,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:u[0]||(u[0]=()=>{i(n).resetForm(),i(r).resetDialog()})},{default:c(()=>[l(S,{size:"20px",icon:"$close",color:"surface"})]),_:1}),b("span",xt,P(t.action.toCapitalizeCase())+" Income ",1)]),_:1}),t.action==="delete"?(p(),g(v,{key:0},[l(k,null,{default:c(()=>[l(D,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:c(()=>[l(S,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),l(k,{class:"d-flex flex-column mt-8"},{default:c(()=>[Dt,l(ge,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:c(()=>[(p(!0),g(v,null,M(s.value,(m,w)=>(p(),g(v,{key:w},[b("span",Vt,P(m.title),1),Ct,b("span",null,P(m.value),1)],64))),128))]),_:1})]),_:1})],64)):(p(),f(Z,{key:1},{default:c(()=>[i(a).products?(p(),f(E,{key:0,modelValue:i(n).form.product.value,"onUpdate:modelValue":u[1]||(u[1]=m=>i(n).form.product.value=m),items:i(a).products,"item-title":"product","item-value":"id","item-props":m=>({title:m.product,subtitle:`Income: ${i(F).global.n(m.purchase_price,"currency","id")}, Selling: ${i(F).global.n(m.selling_price,"currency","id")}`}),label:"Product","prepend-inner-icon":{active:"$file-document",passive:"$file-document-outline"},"return-object":""},null,8,["modelValue","items","item-props"])):_("",!0)]),_:1})),Pt,l(A,{height:"56px",block:"",color:"secondary",onClick:u[2]||(u[2]=()=>{i(n)[t.action]()})},{default:c(()=>[Y(P(t.action.toCapitalizeCase()),1)]),_:1})],64))}}),$t={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},It=C({__name:"IncomeView",setup(t){const e=y(),r=T(),a=L(),n=U("");return j(()=>[a.incomes,r.products],o=>{o[0]!==null&&o[1]!==null&&(a.worker&&(a.worker.terminate(),a.worker=null),window.Worker?(a.worker=new Worker(new URL("/Product-Reports/assets/income-worker-D47pbxKN.js",import.meta.url),{type:"module"}),a.worker.onmessage=s=>{a.formattedIncomes=JSON.parse(s.data.formattedIncomes),I(()=>{e.loading=!1})},a.worker.postMessage({incomes:JSON.stringify(o[0]),products:JSON.stringify(o[1])})):console.error(Q))},{immediate:!0,deep:!0}),(o,s)=>(p(),f(N,{style:W({transitionDuration:`${i(O)}ms !important`}),"leave-absolute":""},{default:c(()=>[i(e).active.child?(p(),f(D,{key:0,class:"ma-auto pa-3 overflow-auto",color:"surface","max-height":"100%",width:"100%"},{default:c(()=>[i(a).formattedIncomes?(p(),f(de,{key:0,search:n.value,items:i(a).formattedIncomes,headers:i(a).getTableHeaders,"custom-key-sort":i(a).customKeySort(),"sort-by":[{key:"date",order:"desc"}],"items-per-page":"10"},{top:c(()=>[l(k,{class:"pt-1 pb-2"},{default:c(()=>[l(A,{height:"56px",color:"secondary",onClick:s[0]||(s[0]=d=>i(e).setDialog(void 0,G,"create"))},{default:c(()=>[Y(" Create Income ")]),_:1}),l($,{class:"mx-2",color:"transparent",vertical:""}),l(R,{modelValue:i(a).search,"onUpdate:modelValue":s[1]||(s[1]=d=>i(a).search=d),label:"Search Incomes","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:"",onKeyup:s[2]||(s[2]=Se(()=>n.value=i(a).search,["enter"]))},null,8,["modelValue"])]),_:1})]),headers:c(({columns:d,isSorted:u,getSortIcon:m,toggleSort:w})=>[b("tr",null,[(p(!0),g(v,null,M(d,h=>(p(),g("td",{key:h.key,class:"pa-1"},[l(D,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{h.sortable&&w(h)}},{default:c(()=>[b("span",$t,P(h.title),1),l(pe),u(h)?(p(),f(S,{key:0,icon:m(h)},null,8,["icon"])):_("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.action":c(({item:d})=>[l(k,null,{default:c(()=>[l(A,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:u=>i(e).setDialog(d,G,"update")},{default:c(()=>[l(S,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),l(A,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:u=>i(e).setDialog(d,G,"delete")},{default:c(()=>[l(S,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])):(p(),f(X,{key:1,type:["text","table"],height:"400px"}))]),_:1})):_("",!0)]),_:1},8,["style"]))}}),At={class:"text-h6 font-weight-bold text-center mx-auto"},Tt=b("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),Nt={class:"font-weight-medium"},Ot=b("span",null,"  :  ",-1),Ft=b("div",{class:"my-4"},null,-1),H=C({__name:"ProductDialog",props:{action:{type:String,required:!0}},setup(t){const e=t,r=y(),a=T(),n=V(()=>r.dialog.item),o=V(()=>[{title:"Product",value:n.value.product},{title:"Purchase Price",value:n.value.purchase_price},{title:"Selling Price",value:n.value.selling_price}]);return K(()=>{e.action==="update"&&(a.form.product.value=n.value.product,a.form.purchase_price.value=n.value.purchase_price,a.form.selling_price.value=n.value.selling_price,a.productValidation(),a.purchasePriceValidation(),a.sellingPriceValidation())}),(s,d)=>(p(),g(v,null,[l(k,{class:"position-relative mb-8"},{default:c(()=>[l(A,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:d[0]||(d[0]=()=>{i(a).resetForm(),i(r).resetDialog()})},{default:c(()=>[l(S,{size:"20px",icon:"$close",color:"surface"})]),_:1}),b("span",At,P(t.action.toCapitalizeCase())+" Product ",1)]),_:1}),t.action==="delete"?(p(),g(v,{key:0},[l(k,null,{default:c(()=>[l(D,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:c(()=>[l(S,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),l(k,{class:"d-flex flex-column mt-8"},{default:c(()=>[Tt,l(ge,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:c(()=>[(p(!0),g(v,null,M(o.value,(u,m)=>(p(),g(v,{key:m},[b("span",Nt,P(u.title),1),Ot,b("span",null,P(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(p(),f(Z,{key:1},{default:c(()=>[l(R,{modelValue:i(a).form.product.value,"onUpdate:modelValue":[d[1]||(d[1]=u=>i(a).form.product.value=u),d[2]||(d[2]=u=>i(a).productValidation())],label:"Product","prepend-inner-icon":{active:"$file-document",passive:"$file-document-outline"}},null,8,["modelValue"]),l($,{class:"my-1",color:"transparent"}),l(R,{modelValue:i(a).form.purchase_price.value,"onUpdate:modelValue":[d[3]||(d[3]=u=>i(a).form.purchase_price.value=u),d[4]||(d[4]=u=>i(a).purchasePriceValidation())],label:"Purchase Price","prepend-inner-icon":{active:"$tag-plus",passive:"$tag-plus-outline"},prefix:"Rp"},null,8,["modelValue"]),l($,{class:"my-1",color:"transparent"}),l(R,{modelValue:i(a).form.selling_price.value,"onUpdate:modelValue":[d[5]||(d[5]=u=>i(a).form.selling_price.value=u),d[6]||(d[6]=u=>i(a).sellingPriceValidation())],label:"Selling Price","prepend-inner-icon":{active:"$tag-minus",passive:"$tag-minus-outline"},prefix:"Rp"},null,8,["modelValue"])]),_:1})),Ft,l(A,{height:"56px",block:"",color:"secondary",onClick:d[7]||(d[7]=()=>{i(a)[t.action]()})},{default:c(()=>[Y(P(t.action.toCapitalizeCase()),1)]),_:1})],64))}}),Mt={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},Lt=C({__name:"ProductView",setup(t){const e=y(),r=T(),a=n=>{var o,s;return(((s=(o=r.products)==null?void 0:o.find(d=>d.id===n))==null?void 0:s.purchase_amount)||0)>0};return j(()=>r.products,n=>{n!==null&&(r.worker&&(r.worker.terminate(),r.worker=null),window.Worker?(r.worker=new Worker(new URL("/Product-Reports/assets/product-worker-COs5WmgT.js",import.meta.url),{type:"module"}),r.worker.onmessage=o=>{r.formattedProducts=JSON.parse(o.data.formattedProducts),I(()=>{e.loading=!1})},r.worker.postMessage({products:JSON.stringify(n)})):console.error(Q))},{immediate:!0,deep:!0}),(n,o)=>(p(),f(N,{style:W({transitionDuration:`${i(O)}ms !important`}),"leave-absolute":""},{default:c(()=>[i(e).active.child?(p(),f(D,{key:0,class:"ma-auto pa-3 overflow-auto",color:"surface","max-height":"100%",width:"100%"},{default:c(()=>[i(r).formattedProducts?(p(),f(de,{key:0,search:i(r).search,items:i(r).formattedProducts,headers:i(r).getTableHeaders,"custom-key-sort":i(r).customKeySort(),"items-per-page":"20"},{top:c(()=>[l(k,{class:"pt-1 pb-2"},{default:c(()=>[l(A,{height:"56px",color:"secondary",onClick:o[0]||(o[0]=s=>i(e).setDialog(void 0,H,"create"))},{default:c(()=>[Y(" Create Product ")]),_:1}),l($,{class:"mx-2",color:"transparent",vertical:""}),l(R,{modelValue:i(r).search,"onUpdate:modelValue":o[1]||(o[1]=s=>i(r).search=s),label:"Search Products","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:c(({columns:s,isSorted:d,getSortIcon:u,toggleSort:m})=>[b("tr",null,[(p(!0),g(v,null,M(s,w=>(p(),g("td",{key:w.key,class:"pa-1"},[l(D,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{w.sortable&&m(w)}},{default:c(()=>[b("span",Mt,P(w.title),1),l(pe),d(w)?(p(),f(S,{key:0,icon:u(w)},null,8,["icon"])):_("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.action":c(({item:s})=>[l(k,null,{default:c(()=>[l(A,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:d=>i(e).setDialog(s,H,"update")},{default:c(()=>[l(S,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),l(A,{size:"32",variant:a(s.id)?"text":"tonal",elevation:0,color:"error",disabled:a(s.id),onClick:()=>{a(s.id)||i(e).setDialog(s,H,"delete")}},{default:c(()=>[l(S,{size:"20",icon:"$delete"})]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])):(p(),f(X,{key:1,type:["text","table"],height:"400px"}))]),_:1})):_("",!0)]),_:1},8,["style"]))}}),Rt=[{path:"/dashboard",name:"MainApp",component:vt,children:[{path:"/dashboard",name:"Dashboard",component:_t},{path:"/incomes",name:"Income",component:It},{path:"/products",name:"Product",component:Lt}]},{path:"/:catchAll(.*)",redirect:"/dashboard"}];U(null);const J=Re({history:Ue("/Product-Reports"),scrollBehavior:(t,e,r)=>r||{top:0,left:0,behavior:"smooth"},routes:Rt});J.beforeEach((t,e,r)=>{const a=y();if(e.path!=="/"&&(!a.active.parent||!a.active.child))return r(!1);a.loading=!0;const n=J.getRoutes().filter(s=>s.name==="App").flatMap(s=>s.children);(n.some(s=>s.name===t.name)&&n.some(s=>s.name===e.name)||e.path==="/")&&(e.path==="/"&&(a.active.parent=!1,oe(O*2).then(()=>{a.active.parent=!0})),a.active.child=!1,oe(O*(e.path==="/"?1:2)).then(()=>{a.active.child=!0}));const o=T();L(),o.synchronize().then(()=>{}),r()});const Ut=Oe({defaults:{global:{},VCard:{variant:"flat",rounded:"xl",color:"foreground"},VDivider:{color:"background",opacity:1,thickness:2},VBtn:{variant:"elevated",rounded:"xl",elevation:4},VTextField:{variant:"solo",bgColor:"surface",baseColor:"background",hideDetails:!0,rounded:"xl"},VSelect:{variant:"solo",bgColor:"surface",baseColor:"background",hideDetails:!0,rounded:"xl"},VDataTable:{mustSort:!0,sortBy:[{key:"number",order:"asc"}],itemsPerPage:10,itemsPerPageOptions:[5,10,25,50,100,200,-1]},VSparkline:{}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#1A237E",secondary:"#2962FF",background:"#212121",surface:"#FAFAFA",success:"#4CAF50",error:"#D50000",warning:"#F4511E"},dark:!1}}},locale:{locale:"en",fallback:"en",messages:{en:Fe}},icons:{defaultSet:"mdi",sets:{mdi:Me},aliases:{...Le,"face-woman":ze,magnify:je,pencil:We,delete:Ye,alert:qe,"view-dashboard-variant":Ge,"view-dashboard":He,cash:Je,"cash-plus":Ke,"file-document":Ze,"file-document-outline":Xe,export:Qe,import:et,"calendar-month":tt,"calendar-month-outline":rt,calendar:at,"calendar-outline":ot,"text-box-search":nt,"text-box-search-outline":it,"tag-plus":st,"tag-plus-outline":lt,"tag-minus":ct,"tag-minus-outline":ut}}}),z="Product Reports",Bt="Product Reports is an application that provides detailed reports on products based on their purchase and selling prices. With this application, you can analyze and understand the financial performance of the products you sell in a more structured way. It allows you to monitor income, calculate profit margins, and make better decisions based on data from purchase and selling prices. Ideal for business owners and analysts who want in-depth insights into their product performance.";var ie;(ie=document.querySelector("meta[name=application-name]"))==null||ie.setAttribute("content",z);var se;(se=document.querySelector("meta[name=description]"))==null||se.setAttribute("content",Bt);var le;(le=document.querySelector("meta[name=keywords]"))==null||le.setAttribute("content",`${z},${z.split(" ").join(",")}`);document.title=z;const B=ke(ft);B.use(xe());B.use(J);B.use(Ut);B.use(F);B.mount("#app");
